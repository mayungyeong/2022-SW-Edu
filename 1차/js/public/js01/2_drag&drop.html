<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body {
            background: rgb(248, 255, 218);
        }

        .fill {
            background-image: url('img/햄찌.jpg');
            position: relative;
            height: 100px;
            width: 100px;
            top: 5px;
            left: 5px;
            cursor: pointer;
        }

        .empty {
            display: inline-block;
            height: 110px;
            width: 110px;
            margin: 10px;
            border: solid 3px rgb(173, 152, 255);
            background: white;
        }
    </style>
</head>

<body>
    <h1>드래그 앤 드롭 기능 구현 (2) </h1>
    <div class="empty">
        <div class="fill" draggable="true"> </div>
    </div>
    <div class="empty"></div>
    <div class="empty"></div>
    <div class="empty"></div>
    <div class="empty"></div>

    <script>
        const fill = document.querySelector('.fill');
        const empties = document.querySelectorAll('.empty');

        // Fill listeners
        fill.addEventListener('dragstart', dragStart);
        fill.addEventListener('dragend', dragEnd);

        // Loop through empty boxes and add listeners
        for (const empty of empties) {
            empty.addEventListener('dragover', dragOver);
            empty.addEventListener('dragenter', dragEnter);
            empty.addEventListener('dragleave', dragLeave);
            empty.addEventListener('drop', dragDrop);
        }

        // Drag Functions
        function dragStart() {
            this.className += ' hold';
            setTimeout(() => (this.className = 'invisible'), 0);
        }
        function dragEnd() {
            this.className = 'fill';
        }
        function dragOver(e) {
            e.preventDefault();
        }

        function dragEnter(e) {
            e.preventDefault();
        }

        function dragLeave() {
            this.className = 'empty';
        }

        function dragDrop() {
            this.className = 'empty';
            this.append(fill);
        }

    </script>
</body>

</html>